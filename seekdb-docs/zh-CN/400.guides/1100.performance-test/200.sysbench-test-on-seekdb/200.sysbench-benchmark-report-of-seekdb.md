---

slug: /sysbench-benchmark-report-of-seekdb
---

# seekdb Sysbench 测试报告

本文介绍 Sysbench 测试的测试环境、测试方案以及详细的测试数据结果。


## 测试方案

* 本次测试需使用到 2 台机器，Sysbench 部署在一台机器上。seekdb 部署在另一台机器上，seekdb 的规格为 4C8G 或者 1C2G，其日志盘、clog 盘、data 盘分三块盘，性能级别 PL1。

* 通过 Sysbench 导入 30 张表，每张表有 1 万行数据。

* 启动 Sysbench 客户端，进行 `point_select`、`read_write`、`read_only`、`insert`、`update` 和 `write_only` 测试。

* 每轮测试 `--time` 设置为 10s，线程数取值可以为 `10/50/100/200/400` 等。

测试步骤详见 [seekdb Sysbench 测试](100.use-sysbench-to-test-the-performance-of-seekdb.md)。

## 测试环境

以阿里云 ECS 作为部署环境为例，测试所使用的 seekdb 规格为 1C2G 和 4C8G。

* seekdb 规格为 4C8G 时，所对应的硬件配置和软件版本如下：

    * 硬件配置

        | 服务类型 | ECS 类型 | 实例数 | 机器核心数 | 内存 |
        | ------- | -------- | ----- | --------- | ---- |
        | seekdb | ecs.c8i.xlarge  | 1 | 4C | 8G |
        | Sysbench          | ecs.g8i.4xlarge   | 1 | 16C | 64G |

    * 软件版本

        | 服务类型 | 软件版本 |
        | ------- | ------- |
        | seekdb | SeekDB 1.0.0.0 |
        | Sysbench        | 1.1.0 |
        | OS              | CentOS Linux 7 (Core) |

* seekdb 规格为 1C2G 时，所对应的硬件配置和软件版本如下：

    * 硬件配置

        | 服务类型 | ECS 类型 | 实例数 | 机器核心数 | 内存 |
        | ------- | -------- | ----- | --------- | ---- |
        | seekdb | ecs.c8i.large  | 1 | 2C(购买时选择活跃 vcpu 为 1) | 4G（可用内存 3G），设置 `memory_limit` 为 2G |
        | Sysbench          | ecs.g8i.4xlarge   | 1 | 16C | 64G |

    * 软件版本

        | 服务类型 | 软件版本 |
        | ------- | ------- |
        | seekdb | SeekDB 1.0.0.0 |
        | Sysbench        | 1.1.0 |
        | OS              | CentOS Linux 7 (Core) |

## 测试结果

在本次 Sysbench 测试中，涵盖 `10/50/100/200/400` 线程数下 `point_select`、`read_write`、`read_only`、`insert`、`update` 和 `write_only` 的性能。

:::info

表格中数据为 tps/99rt，以下数据基于纯内存，seekdb 写入过程无转储。

:::

### 性能数据

* seekdb 规格为 4C8G 时，所对应的性能数据如下：

    | Threads | point_select | read_only | read_write | insert | update | write_only |
    |---------|----------------------|----------------------|---------------|--------------|--------------|--------------|
    | 10   | 77328.66/0.23 | 3319.07/5.00 | 1882.00/7.30 | 10185.03/2.76 | 9314.96/6.67 | 4688.54/4.03 |
    | 50   | 100347.57/7.43 | 4020.60/31.37 | 2619.97/30.81 | 26437.48/3.43 | 29488.94/3.75 | 7543.28/10.84 |
    | 100  | 105079.01/9.22 | 4087.84/57.87 | 2674.02/73.13 | 33417.85/4.82 | 34507.15/5.47 | 9184.84/20.00 |
    | 200  | 106356.60/11.87 | 4066.73/99.33 | 2710.92/125.52 | 38261.34/8.43 | 42389.73/7.43 | 9874.32/36.24 |
    | 400  | 108138.11/15.00 | 4159.58/144.97 | 2856.73/200.47 | 41418.19/16.41 | 43852.58/14.73 | 10541.13/66.84 |

* seekdb 规格为 1C2G 时，所对应的性能数据如下：

    | Threads | point_select | read_only | read_write | insert | update | write_only |
    |---------|----------------------|----------------------|---------------|--------------|--------------|--------------|
    | 10   | 41347.53/0.53 | 1625.06/9.91 | 840.04/17.95 | 8587.38/2.52 | 8988.56/2.76 | 2959.13/5.57 |
    | 50   | 41462.17/1.86 | 1661.72/41.85 | 1059.56/62.19 | 14456.36/5.47 | 14894.71/5.37 | 4082.69/17.63 |
    | 100  | 42123.36/3.49 | 1758.03/71.83 | 1160.80/102.97 | 16099.96/23.52 | 17200.51/8.90 | 4325.64/31.94 |
    | 200  | 41858.17/7.04 | 1764.61/130.13 | 1192.46/204.11 | 17474.96/17.0 | 18839.09/75.82 | 4453.70/78.60 |
