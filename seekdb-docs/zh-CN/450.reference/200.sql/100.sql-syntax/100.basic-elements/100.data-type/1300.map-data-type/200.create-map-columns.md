---

slug: /create-map-columns
---

# 创建映射列

seekdb 支持使用 `CREATE TABLE` 创建映射列。

## 注意事项

* 不支持设置默认值。
* 支持的映射类型，及说明、限制请见 [映射元素类型概述](100.map-data-type-overview.md)。

## 示例

使用 `CREATE TABLE` 语句创建具有映射列的表，语法示例如下：

```sql
CREATE TABLE t1 (
  id INT,
  c1 MAP(INT, FLOAT),
  c2 MAP(VARCHAR(10), VARCHAR(2)),
  c3 MAP(FLOAT UNSIGNED, ARRAY(INT)),
  c4 MAP(VARCHAR(3), ARRAY(ARRAY(VARCHAR(20))))
);
```

定义 Value 类型为嵌套数组的映射类型示例如下：

```sql
CREATE TABLE t2(c1 MAP(INT, ARRAY(INT)));
CREATE TABLE t3(c1 MAP(INT, INT[][]));
```

Value 最多支持 6 层映射嵌套（包含 MAP 本身），示例如下：

```sql
CREATE TABLE t4 (c1 MAP(INT, INT[][][][][]));

DESC t4;
+-------+-------------------------------------------------+------+------+---------+-------+
| Field | Type                                            | Null | Key  | Default | Extra |
+-------+-------------------------------------------------+------+------+---------+-------+
| c1    | MAP(INT,ARRAY(ARRAY(ARRAY(ARRAY(ARRAY(INT)))))) | YES  |      | NULL    |       |
+-------+-------------------------------------------------+------+------+---------+-------+
1 row in set (0.002 sec)
```

写入和查询映射数据示例如下。

创建测试表 t5：

```shell
CREATE TABLE t5(
    c1 MAP(INT, INT),
    c2 MAP(VARCHAR(256), VARCHAR(256)),
    c3 MAP(BIGINT, BIGINT)
);
```

返回结果如下：

```shell
DESC t5;
+-------+--------------------------------+------+------+---------+-------+
| Field | Type                           | Null | Key  | Default | Extra |
+-------+--------------------------------+------+------+---------+-------+
| c1    | MAP(INT,INT)                   | YES  |      | NULL    |       |
| c2    | MAP(VARCHAR(256),VARCHAR(256)) | YES  |      | NULL    |       |
| c3    | MAP(BIGINT,BIGINT)             | YES  |      | NULL    |       |
+-------+--------------------------------+------+------+---------+-------+
3 rows in set (0.002 sec)
```

插入数据：

```shell
INSERT INTO t5 VALUES (MAP(1,2), MAP(1,2), MAP(1,2));
```

查询测试表，结果如下：

```shell
SELECT * FROM t5;
+-------+-----------+-------+
| c1    | c2        | c3    |
+-------+-----------+-------+
| {1:2} | {"1":"2"} | {1:2} |
+-------+-----------+-------+
1 row in set (0.003 sec)
```
