---
sidebar_label: Toolbox
slug: /toolbox
---

# 通过 Google GenAI Toolbox 构建自己的 seekdb MCP Server

[MCP（Model Context Protocol）](https://modelcontextprotocol.io/introduction) 是 Anthropic 公司于 2024 年 11 月推出并开源，旨在实现大语言模型与外部工具或数据源交互的协议。通过 MCP，用户不需要将大模型的输出手动复制执行，大模型可以直接指挥工具执行相应的动作（Action）。

[Google GenAI Toolbox for Databases](https://github.com/googleapis/genai-toolbox) 是一个开源的工具箱。它通过处理连接池、身份验证等复杂问题，让您能够更轻松、更快速、更安全地开发工具。

本文将展示如何使用 Google GenAI Toolbox 无需编程构建 seekdb MCP 服务器。

## 前提条件

* 您已完成部署 seekdb。

* 确保您的系统支持运行二进制文件（Linux、macOS 或 Windows）。

## 步骤一：获取数据库连接信息

联系 seekdb 部署人员或者管理员获取相应的数据库连接串，例如：

```sql
mysql -h$host -P$port -u$user_name -p$password -D$database_name
```

**参数说明：**

* `$host`：提供 seekdb 连接 IP 地址。
* `$port`：提供 seekdb 连接端口，默认是 `2881`。
* `$database_name`：需要访问的数据库名称。

    :::tip
    连接的用户需要拥有该数据库的 `CREATE`、`INSERT`、`DROP` 和 `SELECT` 权限。
    :::

* `$user_name`：提供数据库连接账户。
* `$password`：提供账户密码。

## 步骤二：下载 Google GenAI Toolbox 并开始使用

### 下载 Toolbox 二进制文件

下载最新版本的 Toolbox 二进制文件：

```bash
export OS="linux/amd64" # 选择 linux/amd64, darwin/arm64, darwin/amd64, 或 windows/amd64 之一
export VERSION="0.24.0"
curl -O https://storage.googleapis.com/genai-toolbox/v$VERSION/$OS/toolbox
chmod +x toolbox
```

### 创建配置文件

创建一个 `tools.yaml` 文件并写入以下内容。请将连接信息替换为您的 seekdb 地址。此示例配置展示了如何使用 Toolbox 通过 MCP 工具获取 ASH 报告和集群信息。你可以自定义自己的工具。

```yaml
sources:
  seekdb:
    kind: oceanbase
    host: *.*.*.*
    port: 2881
    database: oceanbase
    user: root
    password: "****"
    queryTimeout: 60s
tools:
  get-ash-report:
    kind: oceanbase-sql
    source: seekdb
    description: get ASH report
    parameters:
      - name: start_time
        type: string
        description: The start time of the ASH report
      - name: end_time
        type: string
        description: The end time of the ASH report
    statement: CALL DBMS_WORKLOAD_REPOSITORY.ASH_REPORT(?,?, NULL, NULL, NULL, 'TEXT', NULL, NULL, NULL);
  get-all-server-nodes:
    kind: oceanbase-sql
    source: seekdb
    description: get all server nodes
    statement: select * from DBA_OB_SERVERS;
toolsets:
  my_first_toolset:
    - get-ash-report
```

### 启动 Toolbox

启动 Toolbox。你应该看到以下输出：

```bash
./toolbox --tools-file tools.yaml
2025-08-28T10:37:49.776637+08:00 INFO "Initialized 1 sources."
2025-08-28T10:37:49.777513+08:00 INFO "Initialized 0 authServices."
2025-08-28T10:37:49.777586+08:00 INFO "Initialized 1 tools."
2025-08-28T10:37:49.777627+08:00 INFO "Initialized 2 toolsets."
2025-08-28T10:37:49.778334+08:00 INFO "Server ready to serve!"
```

## 步骤三：使用 MCP Inspector 进行测试（可选）

Inspector 是一个用于测试和调试 MCP 服务器的交互式开发工具。

Inspector 可以直接通过 npx 运行，无需安装：

```bash
npx @modelcontextprotocol/inspector node build/index.js
```

### 配置连接

1. 访问 `http://ip:6274`。
2. **Transport Type** 选择 SSE。

    ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/toolbox/1.png)

3. 输入URL: `http://ip:5000/mcp/sse`，点击连接按钮。

    ![2](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/toolbox/2.png)

4. 在工具选项卡中点击列出工具，尝试 `get-all-server-nodes` 工具，你应该看到如下输出：

```json
{
  "BLOCK_MIGRATE_IN_TIME": null,
  "BUILD_VERSION": "1.0.0.0_100000262025111218-5343637512e28c346f938516af53b7879d4d5974(Nov 12 2025 19:03:56)",
  "CREATE_TIME": "2025-12-03T11:00:21.864447Z",
  "ID": 1,
  "LAST_OFFLINE_TIME": null,
  "MODIFY_TIME": "2025-12-23T10:01:00.154657Z",
  "SQL_PORT": 2881,
  "START_SERVICE_TIME": "2025-12-23T10:01:00.15322Z",
  "STATUS": "ACTIVE",
  "STOP_TIME": null,
  "SVR_IP": "127.0.0.1",
  "SVR_PORT": 2882,
  "WITH_ROOTSERVER": "YES",
  "ZONE": "z1"
}
```

## 步骤四：与您的 MCP 客户端集成

测试成功后，你现在拥有了自己的 MCP 服务器，无需编写任何代码。你可以集成任何 MCP 客户端与大语言模型一起工作，让你工作更高效。

### 支持的 MCP 客户端

* [Continue](https://continue.dev) - IDE 插件，支持 Visual Studio Code 和 IntelliJ IDEA
* [Claude Desktop](https://claude.ai/download) - Anthropic 的桌面应用
* [Cline](https://cline.sh) - 命令行 AI 助手
* 其他支持 MCP 协议的客户端

### 后续步骤

* 自定义工具配置，添加更多 seekdb 相关的 SQL 查询
* 集成到工作流程中，提高数据库管理和分析效率。
* 探索更多 MCP 工具和功能。
