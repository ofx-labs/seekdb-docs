---
sidebar_label: Continue
slug: /continue
---

# seekdb MCP Server 与 Continue 集成

[MCP（Model Context Protocol）](https://modelcontextprotocol.io/introduction) 是 Anthropic 公司于 2024 年 11 月推出并开源，旨在实现大语言模型与外部工具或数据源交互的协议。通过 MCP，用户不需要将大模型的输出手动复制执行，大模型可以直接指挥工具执行相应的动作（Action）。

[MCP Server](https://github.com/oceanbase/awesome-oceanbase-mcp/tree/main/src/seekdb_mcp_server) 通过 MCP 协议提供了大模型与 seekdb 交互的能力，可以执行 SQL 语句。通过合适的客户端可以快速搭建项目原型，已在 github 上开源。

[Continue](https://continue.dev) 是一款可集成 MCP Server 的 IDE 插件，支持 Visual Studio Code 和 IntelliJ IDEA。

本文将展示如何使用 Continue 与 seekdb MCP Server 集成，快速构建后端应用程序。

## 前提条件

* 您已完成部署 seekdb。

* 安装 [Python 3.11 及以上版本](https://www.python.org/downloads/) 和相应 [pip](https://pip.pypa.io/en/stable/installation/)。如果您的机器上 Python 版本较低，可以使用 Miniconda 来创建新的 Python 3.11 及以上的环境，具体可参考 [Miniconda 安装指南](https://docs.anaconda.com/miniconda/install/)。

* 安装 Python 包管理器 uv。安装完成后，可使用 `uv --version` 命令验证安装是否成功：

    ```shell
    pip install uv
    uv --version
    ```

* 使用 Visual Studio Code 或 IntelliJ IDEA 安装 Continue 插件，插件名称为 `Continue`。

    ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/1.png)

## 步骤一：获取数据库连接信息

联系 seekdb 部署人员或者管理员获取相应的数据库连接串，例如：

```sql
mysql -h$host -P$port -u$user_name -p$password -D$database_name
```

**参数说明：**

* `$host`：提供 seekdb 连接 IP 地址。
* `$port`：提供 seekdb 连接端口，默认是 `2881`。
* `$database_name`：需要访问的数据库名称。

    :::tip
    连接的用户需要拥有该数据库的 `CREATE`、`INSERT`、`DROP` 和 `SELECT` 权限。
    :::

* `$user_name`：提供数据库连接账户。
* `$password`：提供账户密码。

## 步骤二：配置 seekdb MCP Server

这里以 Visual Studio Code 为例，展示如何配置 seekdb MCP Server。

### 安装 seekdb MCP Server

执行下面的命令进行安装：

```shell
pip install seekdb-mcp-server
```

### 配置 seekdb 服务器环境变量到 .env 文件中

在当前目录下创建一个名为 `.env` 的文件，并添加以下内容：

```shell
vi .env

SEEKDB_HOST=localhost      # 数据库主机
SEEKDB_PORT=2881           # 数据库端口（默认：2881）
SEEKDB_USER=your_username
SEEKDB_PASSWORD=your_password
SEEKDB_DATABASE=your_database
```

### 以 SSE 模式启动

```shell
env $(cat .env | xargs) uvx seekdb-mcp-server --transport sse --port 8000 --host 0.0.0.0
```

### 在 Continue 插件中配置大模型和 seekdb MCP Server

手动在本地创建一个 Visual Studio Code 的工作目录，并用 Visual Studio Code 打开，后面 Continue 生成的文件将放在这个目录下，示例的目录名为 `Continue`。

#### 配置大模型

单击侧边栏中的 `Continue 图标`，打开 `Continue` 对话框，点击设置进入 `Add Models`，为 Continue 配置大模型 ：

![2](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/2.png)

`config.yaml` 配置大模型示例如下：

```shell
name: Local Config
version: 1.0.0
schema: v1
models:
  - name: Qwen Plus
    provider: openai
    model: qwen-plus
    apiKey: ***********
    apiBase: "https://dashscope.aliyuncs.com/compatible-mode/v1"
```

#### 配置 seekdb MCP Server

MCP 只能在 Continue 的 Agent 和 Plan 模式下使用。

！[3](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/3.png)

`config.yaml` 配置 seekdb MCP Servers 示例如下：

```shell
mcpServers:
  - name: sse-seekdb
    type: sse
    url: "http://ip:port/sse"
    timeout: 60
    autoApprove: []
    disabled: false
```

#### 测试 MCP Server

如下打开 Continue 会话框，输入提示 `How many tables in the test database?`，Continue 会展示即将执行的 SQL 语句，如果无问题，点击 `Accept` 。Continue 会展示当前 test 库中的表名称，说明可以正常连接 seekdb。

![4](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/4.png)

### 使用 FastAPI 快速创建 RESTful API 风格的项目

你可以使用 FastAPI 快速创建 RESTful API 风格的项目。FastAPI 是一个 Python 的 Web 框架，可以快速构建 RESTful API。

1. 创建 customer 表

    在对话框中输入提示：`Create a "customer" table with "ID" as the primary key and containing fields such as "name", "age", "telephone", and "location"`，确认 SQL 语句后，点击 `Accept` 按钮执行。

    ![5](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/5.png)

2. 插入测试数据

    在对话框中输入提示：`Insert 10 pieces of data into the customer table`，确认 SQL 语句后，点击 Accept 按钮执行：

    ![6](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/6.png)

3. 创建 FastAPI 项目

    在对话框中输入提示：`Create a FastAPI project on the customer table`，点击 Accept 按钮执行。

    ![7](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/7.png)

    此步骤将自动生成多个文件。建议首次使用时选择 `全部接受`，因为 AI 生成的文件内容可能具有不确定性，后续可根据实际需求进行调整。

4. FastAPI 项目配置数据库连接信息

    ![8](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/SeekDB/integrations/developer-tools/continue/8.png)

5. 安装项目依赖

    执行如下命令，安装项目依赖：

    ```shell
    pip install -r requirements.txt
    ```

6. 启动 FastAPI 项目

    执行如下命令，启动 FastAPI 项目：

    ```shell
    source .env
    uvicorn main:app --reload
    ```

7. 查看表中数据

    在命令行中运行如下命令，或者使用其他请求工具，查看表中的数据：

    ```shell
    curl http://127.0.0.1:8000/customers
    ```

    返回结果如下：

    ```json
    [{"id":null,"name":"John Smith","age":35,"telephone":"138-0000-0001","location":"New York"},{"id":null,"name":"Emma Johnson","age":28,"telephone":"138-0000-0002","location":"Los Angeles"},{"id":null,"name":"Michael Brown","age":42,"telephone":"138-0000-0003","location":"Chicago"},{"id":null,"name":"Sophia Davis","age":31,"telephone":"138-0000-0004","location":"Houston"},{"id":null,"name":"William Wilson","age":45,"telephone":"138-0000-0005","location":"Phoenix"},{"id":null,"name":"Olivia Moore","age":29,"telephone":"138-0000-0006","location":"Philadelphia"},{"id":null,"name":"James Taylor","age":38,"telephone":"138-0000-0007","location":"San Antonio"},{"id":null,"name":"Ava Anderson","age":33,"telephone":"138-0000-0008","location":"San Diego"},{"id":null,"name":"Alexander Thomas","age":41,"telephone":"138-0000-0009","location":"Dallas"},{"id":null,"name":"Isabella Jackson","age":36,"telephone":"138-0000-0010","location":"San Jose"}]
    ```
