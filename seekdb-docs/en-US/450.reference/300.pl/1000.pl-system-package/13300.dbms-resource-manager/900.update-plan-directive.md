---
slug: /update-plan-directive
---

# UPDATE_PLAN_DIRECTIVE

The `UPDATE_PLAN_DIRECTIVE` procedure is used to update resource plan directives.

## Syntax

```sql
DBMS_RESOURCE_MANAGER.UPDATE_PLAN_DIRECTIVE (
    PLAN                             VARCHAR(65535),
    GROUP_OR_SUBPLAN                 VARCHAR(65535),
    NEW_COMMENT                       VARCHAR(65535) DEFAULT NULL,
    NEW_MGMT_P1                      INT   DEFAULT NULL,
    NEW_UTILIZATION_LIMIT            INT   DEFAULT NULL,
    NEW_MIN_IOPS                     INT   DEFAULT NULL,
    NEW_MAX_IOPS                     INT   DEFAULT NULL,
    NEW_WEIGHT_IOPS                  INT   DEFAULT NULL,
    NEW_MAX_NET_BANDWIDTH            INT   DEFAULT NULL,
    NEW_NET_BANDWIDTH_WEIGHT         INT   DEFAULT NULL);
```

## Parameters

|        Parameter        |           Description         |
|-------------------|-------------------------|
| PLAN              | The name of the resource plan.  |
| GROUP_OR_SUBPLAN  | The name of the resource consumer group or subplan.  |
| NEW_COMMENT       | The comment for the plan directive.  |
| NEW_MGMT_P1       | The maximum CPU utilization allowed when the system is at full load. |
| NEW_UTILIZATION_LIMIT | The CPU utilization limit. The value of this parameter ranges from 0 to 100. "100" indicates that the maximum CPU resources of seekdb can be used. If the value is "20", then the maximum CPU resources of seekdb that can be used is 20%. |
| NEW_MIN_IOPS      | The IOPS resources reserved for the resource group when I/O contention occurs. The total value cannot exceed 100.|
| NEW_MAX_IOPS      | The maximum IOPS resources that can be used by the resource group. The total value can exceed 100.|
| NEW_WEIGHT_IOPS   | The weight value of IOPS. The total value can exceed 100.|
| NEW_MAX_NET_BANDWIDTH| The maximum network bandwidth that can be used by the resource group. The total value can exceed 100.|
| NEW_NET_BANDWIDTH_WEIGHT| The weight value of network bandwidth. The total value can exceed 100. |

## Usage notes

If no parameters are specified for the `UPDATE_PLAN_DIRECTIVE` procedure, the parameter values remain unchanged in the data dictionary.

To set any numeric parameter in a plan directive to zero or invalid, use the `UPDATE_PLAN_DIRECTIVE` procedure to set it to -1.

## Examples

* Update the comment for the plan directive of the resource group `interactive_group` bound to the resource plan `DAY`.

  ```shell
  CALL DBMS_RESOURCE_MANAGER.UPDATE_PLAN_DIRECTIVE('DAY','group1','Intermediate level group');
  ```

* Update the resource plan directive for the CPU, IOPS, and network bandwidth resources of the resource group `interactive_group` bound to the resource plan `daytime`.

 ```shell
  CALL DBMS_RESOURCE_MANAGER.UPDATE_PLAN_DIRECTIVE(
    PLAN => 'daytime',
    GROUP_OR_SUBPLAN => 'interactive_group',
    NEW_COMMENT => 'new',
    NEW_MGMT_P1 => 40,
    NEW_UTILIZATION_LIMIT => 60,
    NEW_MIN_IOPS => 40,
    NEW_MAX_IOPS => 80,
    NEW_WEIGHT_IOPS => 70,
    NEW_MAX_NET_BANDWIDTH => 30,
    NEW_NET_BANDWIDTH_WEIGHT => 30);
  ```